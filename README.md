# TagProducts - Desafio FullStack Tagview

![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring](https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

Este reposit√≥rio cont√©m a solu√ß√£o completa para o desafio t√©cnico da **Tagview** para a posi√ß√£o de Desenvolvedor FullStack.

O projeto consiste em uma aplica√ß√£o web para gerenciamento de produtos, composta por uma API RESTful constru√≠da com **Java 21/Spring Boot 3** e um frontend interativo desenvolvido com **React + TypeScript**. Todo o ambiente √© orquestrado com **Docker**, visando a simplicidade na execu√ß√£o e a consist√™ncia entre os ambientes.


## ‚ú® Features Implementadas

### üé® Frontend

#### Listagem de Produtos (`/produtos/exibir`)
- ‚úÖ **Exibi√ß√£o em Cards:** Produtos exibidos em grid responsivo com imagem, nome e pre√ßo
- ‚úÖ **Sistema de Pagina√ß√£o:** Navega√ß√£o entre p√°ginas com bot√µes numerados
- ‚úÖ **Sele√ß√£o de Limite:** Op√ß√µes para exibir 10, 20, 50 ou Todos os produtos por p√°gina
- ‚úÖ **Modal de Detalhes:** Clique no card para visualizar detalhes completos (imagem, nome, pre√ßo e descri√ß√£o)
- ‚úÖ **Query Param `idProduto`:** Abertura autom√°tica do modal ao acessar com `?idProduto=UUID`
- ‚úÖ **Fallback de Imagem:** Placeholder visual para produtos sem imagem cadastrada
- ‚úÖ **Loading State:** Indicador visual durante carregamento dos dados
- ‚úÖ **Tratamento de Erros:** Mensagens amig√°veis em caso de falha na API
- ‚úÖ **Design Responsivo:** Interface adapt√°vel para desktop, tablet e mobile

#### Cadastro de Produtos (`/produtos/cadastro`)
- ‚úÖ **Formul√°rio Completo:** Campos para nome, pre√ßo, descri√ß√£o e imagem
- ‚úÖ **Valida√ß√£o Frontend:** 
  - Nome: 3-50 caracteres, obrigat√≥rio
  - Pre√ßo: m√≠nimo R$ 10,00, obrigat√≥rio
  - Descri√ß√£o: 30-255 caracteres, obrigat√≥rio
  - Imagem: m√°ximo 5MB, PNG ou JPG, opcional
- ‚úÖ **Preview de Imagem:** Visualiza√ß√£o da imagem antes do envio
- ‚úÖ **Feedback de Erros:** Exibi√ß√£o clara de erros de valida√ß√£o (frontend e backend)
- ‚úÖ **Redirecionamento Inteligente:** Ap√≥s sucesso, redireciona para listagem com modal aberto no produto rec√©m-cadastrado
- ‚úÖ **Mensagem de Sucesso:** Alert informando "Novo Produto Cadastrado!"
- ‚úÖ **Upload de Imagem:** Convers√£o autom√°tica para Base64
---

### ‚öôÔ∏è Backend

#### Endpoints da API

**`GET /api/v1/produtos`** - Listar Produtos
- Retorna todos os produtos cadastrados
- Delay artificial de 3 segundos
- Requer header `X-API-KEY: tagview-desafio-2024`
- Response: Array de produtos com estrutura completa

**`POST /api/v1/produtos`** - Criar Produto
- Cadastra novo produto no sistema
- Delay artificial de 3 segundos
- Requer header `X-API-KEY: tagview-desafio-2024`
- **Valida√ß√µes Implementadas:**
  - Nome: 3-50 caracteres, obrigat√≥rio
  - Pre√ßo: m√≠nimo R$ 10,00, obrigat√≥rio
  - Descri√ß√£o: 30-255 caracteres, obrigat√≥rio
  - Imagem: m√°ximo 2MB (backend), Base64, PNG/JPG, opcional
  - Valida√ß√£o de formato: Magic numbers para PNG e JPEG
- **Responses:**
  - `200`: Produto criado com sucesso (retorna objeto completo com UUID)
  - `422`: Erro de valida√ß√£o (retorna array de erros)
  - `401`: API Key inv√°lida ou ausente
  - `500`: Erro interno do servidor

**`GET /api/v1/produtos/test`** - Health Check
- Endpoint de teste para verificar status da API
- Response: `"okok"`

#### Recursos do Backend
- ‚úÖ **Spring Boot 3.5.6:** Framework robusto e moderno
- ‚úÖ **Java 21:** Vers√£o LTS mais recente
- ‚úÖ **PostgreSQL:** Banco de dados relacional
- ‚úÖ **Spring Data JPA:** Persist√™ncia simplificada
- ‚úÖ **Bean Validation:** Valida√ß√µes declarativas
- ‚úÖ **Lombok:** Redu√ß√£o de boilerplate
- ‚úÖ **SpringDoc OpenAPI:** Documenta√ß√£o autom√°tica (Swagger)
- ‚úÖ **CORS Configurado:** Permite acesso do frontend
- ‚úÖ **Timestamps Autom√°ticos:** `criadoEm` e `atualizadoEm` em cada produto
- ‚úÖ **UUID como ID:** Identificadores √∫nicos universais
- ‚úÖ **Tratamento de Exce√ß√µes:** Respostas padronizadas para erros
- ‚úÖ **Valida√ß√£o de Imagem Base64:** Decodifica√ß√£o e verifica√ß√£o de tamanho/formato
- ‚úÖ **Magic Numbers Validation:** Verifica se imagem √© realmente PNG ou JPEG

#### Documenta√ß√£o Swagger
- ‚úÖ **Interface Interativa:** Teste todos os endpoints pelo navegador
- ‚úÖ **Autentica√ß√£o Configurada:** Suporte para X-API-KEY
- ‚úÖ **Exemplos Completos:** Request e response bodies documentados
- ‚úÖ **Schemas Detalhados:** Descri√ß√£o de todos os campos e valida√ß√µes
- ‚úÖ **C√≥digos de Status:** Documenta√ß√£o de todos os cen√°rios poss√≠veis
- ‚úÖ **Try It Out:** Execute requisi√ß√µes diretamente no Swagger UI

---

## üóÑÔ∏è Banco de Dados

### Estrutura da Tabela `produtos`

| Campo | Tipo | Restri√ß√µes | Descri√ß√£o |
|-------|------|------------|-----------|
| `id` | UUID | PK, Not Null | Identificador √∫nico do produto |
| `nome` | VARCHAR(50) | Not Null | Nome do produto |
| `preco` | DECIMAL(10,2) | Not Null | Pre√ßo em reais |
| `descricao` | VARCHAR(255) | Not Null | Descri√ß√£o completa |
| `imagem` | TEXT | Nullable | Imagem em Base64 |
| `criado_em` | TIMESTAMP | Not Null | Data/hora de cria√ß√£o |
| `atualizado_em` | TIMESTAMP | Not Null | Data/hora da √∫ltima atualiza√ß√£o |

---

## üõ†Ô∏è Stack de Tecnologias

### Backend
- **Java 21** - Linguagem de programa√ß√£o (LTS)
- **Spring Boot 3.5.6** - Framework principal
- **Spring Data JPA** - Persist√™ncia de dados
- **Spring Validation** - Valida√ß√£o de dados
- **SpringDoc OpenAPI 2.5.0** - Documenta√ß√£o Swagger
- **Lombok** - Redu√ß√£o de boilerplate
- **PostgreSQL Driver** - Conex√£o com banco de dados
- **Maven** - Gerenciamento de depend√™ncias

### Frontend
- **React 18** - Biblioteca UI
- **TypeScript** - Superset tipado do JavaScript
- **Tailwind CSS** - Framework de estiliza√ß√£o
- **Vite** - Build tool e dev server

### Infraestrutura
- **PostgreSQL** - Banco de dados relacional
- **Docker** - Containeriza√ß√£o
- **Docker Compose** - Orquestra√ß√£o de containers

---

## ‚öôÔ∏è Como Executar o Projeto Localmente

### Pr√©-requisitos
- **Git** instalado
- **Docker** e **Docker Compose** instalados
- Porta **3000** (frontend) e **4000** (backend) dispon√≠veis
- Porta **5432** (PostgreSQL) dispon√≠vel

### Passo a Passo

**1. Clone o Reposit√≥rio:**
```bash
git clone https://github.com/AldoJDev/tagview-desafio-fullstack.git
```

**2. Navegue at√© a Pasta do Projeto:**
```bash
cd tagview-desafio-fullstack
```

**3. Construa as Imagens e Suba os Cont√™ineres:**
```bash
docker-compose up --build -d
```

Este comando ir√°:
- Construir as imagens Docker para API, Cliente e Banco de Dados
- Iniciar os cont√™ineres em background (`-d`)
- Criar o banco de dados PostgreSQL
- Aguardar a inicializa√ß√£o completa de todos os servi√ßos

**4. Aguarde a Inicializa√ß√£o**
A primeira execu√ß√£o pode levar alguns minutos para:
- Baixar as imagens base
- Instalar depend√™ncias
- Inicializar o banco de dados

**5. Acesse a Aplica√ß√£o:**

Ap√≥s a conclus√£o, os servi√ßos estar√£o dispon√≠veis:

-   üåê **Frontend:** `http://localhost:3000`
-   ‚öôÔ∏è **API:** `http://localhost:4000`
-   üìñ **Swagger UI:** `http://localhost:4000/swagger-ui.html`

**6. Para Parar os Cont√™ineres:**
```bash
docker-compose down
```

**7. Para Parar e Remover Volumes (limpa banco de dados):**
```bash
docker-compose down -v
```

---

## üîå Uso da API

### Informa√ß√µes de Acesso

-   **URL Base:** `http://localhost:4000/api/v1`
-   **Autentica√ß√£o:** Todas as requisi√ß√µes devem conter o header:
    ```http
    X-API-KEY: tagview-desafio-2024
    ```

### Exemplos de Requisi√ß√µes

#### Listar Produtos
```bash
curl -X GET "http://localhost:4000/api/v1/produtos" \
  -H "X-API-KEY: tagview-desafio-2024"
```

#### Criar Produto
```bash
curl -X POST "http://localhost:4000/api/v1/produtos" \
  -H "X-API-KEY: tagview-desafio-2024" \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "Teclado Mec√¢nico",
    "preco": 350.00,
    "descricao": "Teclado mec√¢nico RGB com switches Cherry MX Blue para maior precis√£o e conforto durante longas sess√µes",
    "imagem": null
  }'
```

### Testando com Swagger

1. Acesse `http://localhost:4000/swagger-ui.html`
2. Clique no bot√£o **"Authorize"** (cadeado verde)
3. Digite `tagview-desafio-2024` no campo Value
4. Clique em **"Authorize"** e depois **"Close"**
5. Teste os endpoints diretamente pela interface

---

## üß™ Testes

### Como Testar a Aplica√ß√£o

1. **Teste de Listagem:**
   - Acesse `http://localhost:3000/produtos/exibir`
   - Verifique carregamento dos produtos
   - Teste a pagina√ß√£o
   - Clique em um card para abrir o modal

2. **Teste de Cadastro:**
   - Acesse `http://localhost:3000/produtos/cadastro`
   - Tente enviar formul√°rio vazio (valida√ß√£o frontend)
   - Preencha os campos corretamente
   - Teste upload de imagem > 5MB (erro frontend)
   - Teste upload de imagem entre 2-5MB (erro backend)
   - Cadastre um produto v√°lido
   - Verifique redirecionamento e abertura do modal

3. **Teste de Query Param:**
   - Ap√≥s cadastrar um produto, copie o UUID da URL
   - Acesse `http://localhost:3000/produtos/exibir?idProduto=[UUID que devera ser passado]`
   - Verifique se o modal abre automaticamente

4. **Teste da API via Swagger:**
   - Acesse `http://localhost:4000/swagger-ui.html`
   - Autentique com `tagview-desafio-2024`
   - Teste todos os endpoints


## üë®‚Äçüíª Autor

**Aldo Junio Souza Brand√£o**

- üìß Email: [aldojunio.dev@gmail.com]
- üíº LinkedIn: [https://linkedin.com/in/seu-perfil](https://linkedin.com/in/seu-perfil)
- üêô GitHub: [https://github.com/AldoJDev](https://github.com/AldoJDev)

---

## üìÑ Licen√ßa

Este projeto foi desenvolvido como parte de um desafio t√©cnico para a Tagview.

---

## üôè Agradecimentos

Agrade√ßo √† equipe da **Tagview** pela oportunidade de participar deste desafio t√©cnico. Foi uma experi√™ncia que me permitiu demonstrar habilidades em desenvolvimento full-stack, trabalho com APIs RESTful, containeriza√ß√£o e boas pr√°ticas de desenvolvimento de software.

---